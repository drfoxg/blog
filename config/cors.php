<?php

return [

    /*
    |--------------------------------------------------------------------------
    | Пути, для которых включён CORS
    |--------------------------------------------------------------------------
    |
    | Маршруты, к которым разрешены кросс-доменные запросы.
    | Можно использовать wildcards: 'api/*'
    |
    */

    'paths' => [
        'api/*',
        'sanctum/csrf-cookie',
    ],

    /*
    |--------------------------------------------------------------------------
    | Разрешённые HTTP-методы
    |--------------------------------------------------------------------------
    |
    | ['*'] — все методы
    | Или конкретные: ['GET', 'POST', 'PUT', 'DELETE']
    |
    */

    'allowed_methods' => ['*'],

    /*
    |--------------------------------------------------------------------------
    | Разрешённые домены (Origins)
    |--------------------------------------------------------------------------
    |
    | Домены, с которых можно делать запросы к API.
    |
    | ['*'] — любой домен (небезопасно для продакшена)
    | ['https://example.com'] — только конкретные домены
    |
    */

    'allowed_origins' => [
        env('FRONTEND_URL', 'http://localhost:3000'),
        // 'https://fiontech.ru',
        // 'https://www.fiontech.ru',
    ],

    /*
    |--------------------------------------------------------------------------
    | Паттерны разрешённых доменов (регулярки)
    |--------------------------------------------------------------------------
    |
    | Например: ['https://*.example.com'] — все поддомены
    |
    */

    'allowed_origins_patterns' => [
        // '#^https://.*\.fiontech\.ru$#',
    ],

    /*
    |--------------------------------------------------------------------------
    | Разрешённые заголовки запроса
    |--------------------------------------------------------------------------
    |
    | Заголовки, которые клиент может отправлять.
    |
    */

    'allowed_headers' => ['*'],

    /*
    |--------------------------------------------------------------------------
    | Заголовки, доступные клиенту в ответе
    |--------------------------------------------------------------------------
    |
    | Какие заголовки ответа JavaScript может прочитать.
    |
    */

    'exposed_headers' => [],

    /*
    |--------------------------------------------------------------------------
    | Max Age (секунды)
    |--------------------------------------------------------------------------
    |
    | Как долго браузер кеширует результат preflight-запроса (OPTIONS).
    | 0 = не кешировать
    |
    */

    'max_age' => 86400, // 24 часа

    /*
    |--------------------------------------------------------------------------
    | Credentials (куки, авторизация)
    |--------------------------------------------------------------------------
    |
    | Разрешить отправку cookies и заголовка Authorization.
    | Если true, нельзя использовать allowed_origins = ['*']
    |
    */

    'supports_credentials' => false,

];
